(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{285:function(e,t,a){e.exports=a(646)},290:function(e,t,a){},292:function(e,t,a){},313:function(e,t){},315:function(e,t){},355:function(e,t){},646:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(267),o=a.n(r),s=(a(290),a(19)),i=a.n(s),u=a(127),l=a(61),d=a(34),p=a(268),E=a(269),m=a(277),v=a(270),f=a(60),R=a(278),A=a(62),P=["eosio.token-EOS","everipediaiq-IQ"],h=[{CHAIN_NAME:"Mainnet",CHAIN_ID:Object({NODE_ENV:"production",PUBLIC_URL:"/eosusd-ui",REACT_APP_CHAIN_NAME:"Mainnet",REACT_APP_VERSION:"0.0.1",REACT_APP_PRIVATEKEY:"5J7gFHsbnU7EpQ4RGrdhAoMnvXnJvWgfiRtvTdMCcVfT6DGkNrK"}).REACT_APP_CHAIN_ID||"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",RPC_PROTOCOL:Object({NODE_ENV:"production",PUBLIC_URL:"/eosusd-ui",REACT_APP_CHAIN_NAME:"Mainnet",REACT_APP_VERSION:"0.0.1",REACT_APP_PRIVATEKEY:"5J7gFHsbnU7EpQ4RGrdhAoMnvXnJvWgfiRtvTdMCcVfT6DGkNrK"}).REACT_APP_RPC_PROTOCOL||"https",RPC_HOST:Object({NODE_ENV:"production",PUBLIC_URL:"/eosusd-ui",REACT_APP_CHAIN_NAME:"Mainnet",REACT_APP_VERSION:"0.0.1",REACT_APP_PRIVATEKEY:"5J7gFHsbnU7EpQ4RGrdhAoMnvXnJvWgfiRtvTdMCcVfT6DGkNrK"}).REACT_APP_RPC_HOST||"nodes.get-scatter.com",RPC_PORT:Object({NODE_ENV:"production",PUBLIC_URL:"/eosusd-ui",REACT_APP_CHAIN_NAME:"Mainnet",REACT_APP_VERSION:"0.0.1",REACT_APP_PRIVATEKEY:"5J7gFHsbnU7EpQ4RGrdhAoMnvXnJvWgfiRtvTdMCcVfT6DGkNrK"}).REACT_APP_RPC_PORT||"443"},(Object({NODE_ENV:"production",PUBLIC_URL:"/eosusd-ui",REACT_APP_CHAIN_NAME:"Mainnet",REACT_APP_VERSION:"0.0.1",REACT_APP_PRIVATEKEY:"5J7gFHsbnU7EpQ4RGrdhAoMnvXnJvWgfiRtvTdMCcVfT6DGkNrK"}).REACT_APP_CHAIN_ID,Object({NODE_ENV:"production",PUBLIC_URL:"/eosusd-ui",REACT_APP_CHAIN_NAME:"Mainnet",REACT_APP_VERSION:"0.0.1",REACT_APP_PRIVATEKEY:"5J7gFHsbnU7EpQ4RGrdhAoMnvXnJvWgfiRtvTdMCcVfT6DGkNrK"}).REACT_APP_RPC_PROTOCOL,Object({NODE_ENV:"production",PUBLIC_URL:"/eosusd-ui",REACT_APP_CHAIN_NAME:"Mainnet",REACT_APP_VERSION:"0.0.1",REACT_APP_PRIVATEKEY:"5J7gFHsbnU7EpQ4RGrdhAoMnvXnJvWgfiRtvTdMCcVfT6DGkNrK"}).REACT_APP_RPC_HOST,Object({NODE_ENV:"production",PUBLIC_URL:"/eosusd-ui",REACT_APP_CHAIN_NAME:"Mainnet",REACT_APP_VERSION:"0.0.1",REACT_APP_PRIVATEKEY:"5J7gFHsbnU7EpQ4RGrdhAoMnvXnJvWgfiRtvTdMCcVfT6DGkNrK"}).REACT_APP_RPC_PORT)][0],_=a(650),O=a(651),T=a(652),C=(a(130),a(292),a(42)),b=a(648),g=a(272),N=a(79),w=a(273),U=a(271),k=a(129);function M(e){var t=e.appName,a=e.activeUser,c=e.onLogin,r=e.onLogout;return n.createElement(b.a,null,n.createElement(g.a,{align:N.a.LEFT},n.createElement(w.a,null,t||"appName"),n.createElement(U.a,null)),n.createElement(g.a,{align:N.a.RIGHT},null!==a?n.createElement(n.Fragment,null,n.createElement("span",null,a&&a.accountName),n.createElement(T.a,{className:k.a.MINIMAL,icon:"log-out",onClick:r})):n.createElement(T.a,{className:k.a.MINIMAL,icon:"log-in",text:"Login",onClick:c})))}var j=a(649),S=a(48);function I(e){var t=e.activeUser;return n.createElement(j.a,{interactive:!0,elevation:S.a.TWO},n.createElement("h5",null,"User tokens"),n.createElement("table",{className:"bp3-html-table bp3-html-table-condensed"},n.createElement("tbody",null,null===t?n.createElement(n.Fragment,null,P.map(function(e){return n.createElement("tr",{key:e},n.createElement("td",null,"--"),n.createElement("td",null,e.split("-")[1]))})):null,t&&!t.balance?n.createElement(n.Fragment,null,P.map(function(e){return n.createElement("tr",{key:e},n.createElement("td",null,"..."),n.createElement("td",null,e.split("-")[1]))})):null,t&&t.balance?n.createElement(n.Fragment,null,Object.keys(t.balance).sort().map(function(e){return n.createElement("tr",{key:e},n.createElement("td",{style:{float:"right"}},t.balance[e]),n.createElement("td",null,e))})):null)))}var V=a(102);var y={appName:"App",activeUser:null,loading:!1};function x(e){var t=Object(n.useState)("eosusdcom111"),a=Object(A.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)("0.0001 EOS"),i=Object(A.a)(s,2),u=i[0],l=i[1],d=Object(n.useState)("support"),p=Object(A.a)(d,2),E=p[0],m=p[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Send test"),c.a.createElement(_.a,{className:"bp3-inline"},"To",c.a.createElement(O.a,{leftIcon:"filter",onChange:function(e){return o(e.currentTarget.value)},defaultValue:r})),c.a.createElement(_.a,{className:"bp3-inline"},"Quantity",c.a.createElement(O.a,{leftIcon:"filter",onChange:function(e){return l(e.currentTarget.value)},defaultValue:u})),c.a.createElement(_.a,{className:"bp3-inline"},"Memo",c.a.createElement(O.a,{leftIcon:"filter",onChange:function(e){return m(e.currentTarget.value)},defaultValue:E})),c.a.createElement("p",null,"support, collateral, payoff debt, borrow"),c.a.createElement(T.a,{loading:e.loading,onClick:function(){e.transfer({to:r,quantity:u,memo:E})}},"Send"),c.a.createElement(T.a,{loading:e.loading,onClick:function(){e.assetout({quantity:u,memo:E})}},"Assetout"))}function J(e){var t=Object(n.useState)("63800"),a=Object(A.a)(t,2),r=a[0],o=a[1];return c.a.createElement("div",null,c.a.createElement("h2",null,"Admin demo tools"),c.a.createElement(T.a,{onClick:function(){return e.updateOracle(r)}},"Update Oracle Price"),c.a.createElement(T.a,{onClick:function(){return e.doUpdate()}},"doUpdate"),c.a.createElement(_.a,{className:"bp3-inline"},"Value",c.a.createElement(O.a,{leftIcon:"filter",onChange:function(e){return o(e.currentTarget.value)},defaultValue:r})))}function L(e){return c.a.createElement("div",null,c.a.createElement("h2",null,"User smart contract stats"),c.a.createElement("div",{style:{width:200}},e.userStats?c.a.createElement("p",null,e.userStats):null))}var D=function(e){function t(e){var a;Object(p.a)(this,t),(a=Object(m.a)(this,Object(v.a)(t).call(this,e))).activeUser=void 0,console.log("props: ",e);var n=e.ual.chains[0].rpcEndpoints[0],c=n.protocol,r=n.host,o=n.port;return a.state=Object(d.a)({},y,{rpc:new C.JsonRpc("".concat(c,"://").concat(r,":").concat(o))}),a.updateAccountBalances=a.updateAccountBalances.bind(Object(f.a)(a)),a.updateOracle=a.updateOracle.bind(Object(f.a)(a)),a.doUpdate=a.doUpdate.bind(Object(f.a)(a)),a.transfer=a.transfer.bind(Object(f.a)(a)),a.assetout=a.assetout.bind(Object(f.a)(a)),a}return Object(R.a)(t,e),Object(E.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.ual.activeUser;e&&!this.state.activeUser?this.setState({activeUser:Object(d.a)({},this.activeUser,{accountName:e.accountName})},this.updateAccountBalances):!e&&this.state.activeUser&&this.setState(y)}},{key:"updateAccountBalances",value:function(){var e=Object(l.a)(i.a.mark(function e(){var t,a,n=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state.activeUser.accountName,P.map(function(){var e=Object(l.a)(i.a.mark(function e(a){var c,r,o,s,l,p,E,m,v;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=a.split("-"),r=Object(A.a)(c,2),o=r[0],s=r[1],e.next=4,n.state.rpc.get_currency_balance(o,t,s);case 4:l=e.sent,console.log(JSON.stringify(l)),p=l[0].split(" "),E=Object(A.a)(p,2),m=E[0],v=E[1],n.setState({activeUser:Object(d.a)({},n.state.activeUser,{balance:Object(d.a)({},n.state.activeUser.balance,Object(u.a)({},v,m))})}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()),e.next=5,this.state.rpc.get_table_rows({code:"eosusdcom111",scope:"eosusdcom111",table:"user"});case 5:a=e.sent,this.setState(Object(d.a)({},this.state,{userStats:JSON.stringify(a,null,2)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.warn(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderModalButton",value:function(){return c.a.createElement("p",{className:"ual-btn-wrapper"},c.a.createElement(T.a,{role:"button",onClick:this.props.ual.showModal,className:"ual-generic-button"},"Login"))}},{key:"transferb",value:function(){var e=Object(l.a)(i.a.mark(function e(){var t,a,n,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.ual.activeUser,a=this.state.activeUser.accountName,console.log("a ",a,t),n={actions:[{account:"eosio.token",name:"transfer",authorization:[{actor:a,permission:"active"}],data:{from:a,to:"eosio.token",quantity:"0.0001 EOS",memo:"support"}}]},e.prev=4,e.next=7,t.signTransaction(n,{broadcast:!0});case 7:c=e.sent,console.log("r",c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.warn(e.t0);case 14:case"end":return e.stop()}},e,this,[[4,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"transfer",value:function(){var e=Object(l.a)(i.a.mark(function e(t){var a,n,c,r,o,s,u,l,p,E,m,v,f=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.to,n=t.quantity,c=t.memo,e.prev=1,r=function(e){var t=e.split(" ")[1],a=P.map(function(e){return e.split("-")}).filter(function(e){var a=Object(A.a)(e,2),n=(a[0],a[1]);return t===n});return a[0]?a[0][0]:new Error("Token ".concat(t," not supported"))},o=this.state.activeUser.accountName,s=o,u=r(n),l="".concat(h.RPC_PROTOCOL,"://").concat(h.RPC_HOST,":").concat(h.RPC_PORT),p=new C.JsonRpc(l,{fetch:fetch}),"5J7gFHsbnU7EpQ4RGrdhAoMnvXnJvWgfiRtvTdMCcVfT6DGkNrK",E=new V.JsSignatureProvider(["5J7gFHsbnU7EpQ4RGrdhAoMnvXnJvWgfiRtvTdMCcVfT6DGkNrK"]),m=new C.Api({rpc:p,signatureProvider:E,textDecoder:new TextDecoder,textEncoder:new TextEncoder}),this.setState(Object(d.a)({},this.state,{loading:!0})),console.warn("TX: ".concat(l," ").concat(u," ").concat(s," ").concat(a," ").concat(n," ").concat(c)),e.next=15,m.transact({actions:[{account:u,name:"transfer",authorization:[{actor:s,permission:"active"}],data:{from:s,to:a,quantity:n,memo:c}}]},{blocksBehind:3,expireSeconds:30});case 15:v=e.sent,console.dir(v),setTimeout(function(){f.updateAccountBalances(),f.setState(Object(d.a)({},f.state,{loading:!1}))},1e3),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),this.setState(Object(d.a)({},this.state,{loading:!1})),console.error("ERROR: ",e.t0);case 24:case"end":return e.stop()}},e,this,[[1,20]])}));return function(t){return e.apply(this,arguments)}}()},{key:"assetout",value:function(){var e=Object(l.a)(i.a.mark(function e(t){var a,n,c,r,o,s,u,l,p,E,m=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.quantity,n=t.memo,e.prev=1,c=this.state.activeUser.accountName,"eosusdcom111",r=c,o=c,s="".concat(h.RPC_PROTOCOL,"://").concat(h.RPC_HOST,":").concat(h.RPC_PORT),u=new C.JsonRpc(s,{fetch:fetch}),"5J7gFHsbnU7EpQ4RGrdhAoMnvXnJvWgfiRtvTdMCcVfT6DGkNrK",l=new V.JsSignatureProvider(["5J7gFHsbnU7EpQ4RGrdhAoMnvXnJvWgfiRtvTdMCcVfT6DGkNrK"]),p=new C.Api({rpc:u,signatureProvider:l,textDecoder:new TextDecoder,textEncoder:new TextEncoder}),this.setState(Object(d.a)({},this.state,{loading:!0})),console.warn("TX: ".concat(s," ").concat("eosusdcom111"," ").concat(o," ").concat(r," ").concat(a," ").concat(n)),e.next=15,p.transact({actions:[{account:"eosusdcom111",name:"assetout",authorization:[{actor:o,permission:"active"}],data:{usern:r,assetout:a,memo:n}}]},{blocksBehind:3,expireSeconds:30});case 15:E=e.sent,console.dir(E),setTimeout(function(){m.updateAccountBalances(),m.setState(Object(d.a)({},m.state,{loading:!1}))},1e3),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),this.setState(Object(d.a)({},this.state,{loading:!1})),console.error("ERROR: ",e.t0);case 24:case"end":return e.stop()}},e,this,[[1,20]])}));return function(t){return e.apply(this,arguments)}}()},{key:"updateOracle",value:function(){var e=Object(l.a)(i.a.mark(function e(t){var a,n,c,r,o,s,u=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="feeder111111","oracle111111",n="".concat(h.RPC_PROTOCOL,"://").concat(h.RPC_HOST,":").concat(h.RPC_PORT),c=new C.JsonRpc(n,{fetch:fetch}),"5J7gFHsbnU7EpQ4RGrdhAoMnvXnJvWgfiRtvTdMCcVfT6DGkNrK",r=new V.JsSignatureProvider(["5J7gFHsbnU7EpQ4RGrdhAoMnvXnJvWgfiRtvTdMCcVfT6DGkNrK"]),o=new C.Api({rpc:c,signatureProvider:r,textDecoder:new TextDecoder,textEncoder:new TextEncoder}),console.warn("TX: ".concat(n," ").concat("oracle111111"," ").concat(a," ").concat(t)),e.next=10,o.transact({actions:[{account:"oracle111111",name:"write",authorization:[{actor:a,permission:"active"}],data:{owner:a,value:t}}]},{blocksBehind:3,expireSeconds:30});case 10:s=e.sent,console.dir(s),setTimeout(function(){u.updateAccountBalances()},1e3);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"doUpdate",value:function(){var e=Object(l.a)(i.a.mark(function e(){var t,a,n,c,r,o=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"eosusdcom111","eosusdcom111",t="".concat(h.RPC_PROTOCOL,"://").concat(h.RPC_HOST,":").concat(h.RPC_PORT),a=new C.JsonRpc(t,{fetch:fetch}),"5K9sQVS3KAXe9ecBjs7PEmLXtE5mqvAVKRaytG3DN8aagWmMj4W",n=new V.JsSignatureProvider(["5K9sQVS3KAXe9ecBjs7PEmLXtE5mqvAVKRaytG3DN8aagWmMj4W"]),c=new C.Api({rpc:a,signatureProvider:n,textDecoder:new TextDecoder,textEncoder:new TextEncoder}),console.warn("TX: ".concat(t," ").concat("eosusdcom111"," ").concat("eosusdcom111"," ")),e.next=10,c.transact({actions:[{account:"eosusdcom111",name:"doupdate",authorization:[{actor:"eosusdcom111",permission:"active"}],data:{}}]},{blocksBehind:3,expireSeconds:30});case 10:r=e.sent,console.dir(r),setTimeout(function(){o.updateAccountBalances()},1e3);case 13:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.ual.logout,t=this.state,a=t.activeUser,n=t.appName;return c.a.createElement("div",{className:"App"},c.a.createElement(M,{appName:n,activeUser:a,onLogin:this.props.ual.showModal,onLogout:e}),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},c.a.createElement("div",null,c.a.createElement(I,{activeUser:a})),c.a.createElement("div",null,c.a.createElement(x,{loading:this.state.loading,transfer:this.transfer,assetout:this.assetout})),c.a.createElement("div",null,c.a.createElement(J,{updateOracle:this.updateOracle,doUpdate:this.doUpdate}))),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginTop:-4}},c.a.createElement("div",null),c.a.createElement(L,{userStats:this.state.userStats}),c.a.createElement("div",null,c.a.createElement("h2",null,"Global smart contract stats"),this.state.contractState?c.a.createElement("div",{style:{width:200}},c.a.createElement("p",null,this.state.contractState)):null)),c.a.createElement("p",null))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=a(274),G=a(180),K=Object(G.withUAL)(D),B=h;console.log("EXAMPLE_ENV ",B);var X={chainId:B.CHAIN_ID,rpcEndpoints:[{protocol:B.RPC_PROTOCOL,host:B.RPC_HOST,port:Number(B.RPC_PORT)}]},W=new H.Scatter([X],{appName:"Vigor App"});o.a.render(c.a.createElement(G.UALProvider,{chains:[X],authenticators:[W],appName:"Vigor App"},c.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[285,1,2]]]);
//# sourceMappingURL=main.4d217e95.chunk.js.map